<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Ledger</title>
    <link rel="stylesheet" href="/static/ledger/css/invoices/invoices.css">
    <link rel="stylesheet" href="/static/ledger/css/ledger/sidebar.css">
</head>
<body>
<aside class="sidebar">
    <h1>Ledger</h1>
    <nav class="nav">
        <a href="/"> ⬅️ Go Back</a>
        <a href="/ledger">Accounts</a>
        <a href="/ledger/planning">Financial Planning</a>
        <a href="/ledger/debts">Debts</a>
        <a href="/ledger/invoices" class="active">Invoices</a>
    </nav>
</aside>

<main class="main">
  <!-- Available Items Section -->
  <section class="items-section">
    <h2>Available Items</h2>
    <ul id="item-list"></ul>

    <!-- Add new item form -->
    <form id="add-item-form" class="add-item-form">
      <input type="text" id="new-item-name" placeholder="Item name" required>
      <input type="number" id="new-item-price" placeholder="Price" required min="0" step="0.01">
      <button type="submit">Add Item</button>
    </form>
  </section>

  <!-- Invoice Preview Section -->
  <section class="invoice-section">
    <h2>Invoice Preview</h2>
    <div class="invoice-wrapper">
      <table id="invoice-table">
        <thead>
        <tr>
          <th>Item</th>
          <th>Qty</th>
          <th>Value</th>
          <th>Remove</th>
        </tr>
        </thead>
        <tbody></tbody>
        <tfoot>
          <tr>
            <td><strong>Total</strong></td>
            <td id="invoice-total">$0</td>
            <td></td>
          </tr>
        </tfoot>
      </table>
    </div>
    <div class="invoice-actions">
      <div class="invoice-cfid">
        <label for="cfid-input">CFID (optional): </label>
        <input type="number" id="cfid-input" placeholder="Enter CFID">
      </div>
      <button id="save-invoice">Save Invoice</button>
      <button id="generate-pdf">Generate PDF</button>
    </div>
  </section>

  <!-- Past Invoices Section -->
  <section class="past-invoices-section">
    <h2>Past Invoices</h2>

    <!-- Filter/Search -->
    <div class="filters">
      <select id="filter-status">
        <option value="all">All</option>
        <option value="paid">Paid</option>
        <option value="unpaid">Unpaid</option>
      </select>
      <input type="text" id="search-invoices" placeholder="Search invoices...">
    </div>

    <ul id="past-invoices"></ul>
  </section>

  <!-- Invoice Details Section -->
  <section class="invoice-details-section">
    <h2>Invoice Details</h2>
    <form id="invoice-details-form" class="invoice-details-form">
      <div class="form-row">
        <label for="billing-name">Billing Name:</label>
        <input type="text" id="billing-name" placeholder="Customer Name" required>
      </div>
      <div class="form-row">
        <label for="billing-address">Billing Address:</label>
        <textarea id="billing-address" placeholder="Street, City, ZIP" rows="3" required></textarea>
      </div>
      <div class="form-row">
        <label for="billing-email">Email:</label>
        <input type="email" id="billing-email" placeholder="customer@example.com">
      </div>
      <div class="form-row">
        <label for="billing-phone">Phone:</label>
        <input type="tel" id="billing-phone" placeholder="+61 400 000 000">
      </div>
      <div class="form-row">
        <label for="invoice-notes">Notes:</label>
        <textarea id="invoice-notes" placeholder="Additional information (optional)" rows="2"></textarea>
      </div>
    </form>
  </section>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="/static/ledger/js/invoices/invoices.js"></script>
</main>
</body>
</html>
