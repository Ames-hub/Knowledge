<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Project Configuration</title>
	<link rel="stylesheet" href="/static/settings/css/settings.css">
</head>
<body>
	<header>
		<h1>Knowledge App</h1>
		<button id="theme-toggle" aria-label="Toggle theme">ğŸŒ“</button>
	</header>

	<div class="actions">
		<a href="/apps" class="back-btn">â† Back</a>
		<button class="save-btn" onclick="saveConfig()">ğŸ’¾ Save Settings</button>
	</div>

	<div>
		<h2 class='settings-section-title' style="margin-bottom: 0;">Notice</h2>
		<p style="text-align: center;margin: 0;">
		Settings are divided into individual sections per module.<br>
		Settings not for a specific module will not apply elsewhere unless stated so.<br>
		Settings do not save unless "save settings" is clicked.
		</p>
	</div>

	<h1 class='settings-section-title'>App Config</h1>
	<main>
		<section class="config-card">
			<label for="registration-allowed">Allow new user registrations?</label>
			<input type="checkbox" id="registration-allowed" data-config-name="registration_allowed">
		</section>

		<section class="config-card">
			<label for="web_port">Knowledge app port number:</label>
			<input type="number" id="web_port" data-config-name="web_port" min="0" max="65535">
		</section>
	</main>
		
	<h1 class='settings-section-title'>Battleplans Module</h1>
	<main id="config-container">
		<section class="config-card">
			<label for="weekday-end">When should the app consider it a new week?</label>
			<select id="weekday-end" data-config-name="weekday_end">
				<option value="monday" selected>Monday</option>
				<option value="tuesday">Tuesday</option>
				<option value="wednesday">Wednesday</option>
				<option value="thursday">Thursday</option>
				<option value="friday">Friday</option>
				<option value="saturday">Saturday</option>
				<option value="sunday">Sunday</option>
			</select>
		</section>

		<section class="config-card">
			<label for="new_week_stats_plan">Create a new production plan every week?</label>
			<input type="checkbox" id="new_week_stats_plan" data-config-name="new_week_stats_plan">
			<span class="config-hint">This setting makes the 'weekly target' number reset at the end of each week when enabled.</span>
		</section>
	</main>

	<h1 class='settings-section-title'>Ledger/Finances Module</h1>
	<main>
		<section class="config-card">
			<label for="lookback-length">Ledger lookback period (days):</label>
			<input type="number" id="lookback-length" data-config-name="lookback_length" min="0">
			<span class="config-hint">This will limit how many days backwards the ledger will go, so transactions, say, 365 days old, will not show up.</span>
		</section>
		<section class="config-card">
			<label for="debts_overpay_payback_tracking">Track overpayment for debts as new debts?</label>
			<input type="checkbox" id="debts_overpay_payback_tracking" data-config-name="debts_overpay_payback_tracking">
			<span class="config-hint">If enabled, when a debt is overpaid, the excess amount will be recorded as a new debt entry for accurate tracking.
			So if Joe owes Sam $20 and Joe pays $25 to Sam, It will be recorded that Sam owes Joe $5 Now.</span>
		</section>
	</main>

	<script src="/static/settings/js/settings.js"></script>
	<script src="/static/settings/js/themecontrol.js"></script>
</body>
</html>
