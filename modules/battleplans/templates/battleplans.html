<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Battle Plans</title>
  <link rel="stylesheet" href="/static/battleplans/css/battleplans.css">
  <link rel="stylesheet" href="/static/register/css/toast.css">
</head>
<body>
  <!-- Toggle sidebar for mobile -->
  <div id="toggle-bplist-btn" aria-expanded="false" title="Battle Plans tab">â˜°</div>

  <!-- Sidebar: Battle Plans list -->
  <div id="bplist">
    <h1>Battle Plans</h1>
    <button id="back-btn">Go Back</button>
    <button id="add-plan-btn">New Battle Plan</button>
    <button id="theme-toggle-btn">Toggle Theme</button>
    <input type="text" id="search-bar" placeholder="Search...">
    <div id="plans-container">
      <!-- Battle plans will be dynamically added here -->
    </div>
  </div>

  <!-- Main editor -->
  <main id="bp-editor-container">
    <!-- Control buttons -->
    <div id="controls">
      <button id="clear-btn">Clear BP</button>
      <button id="import-btn">Import yesterday's</button>
      <button id="help-btn">Help</button>
      <button id="add-quota-btn">Add Quota</button>
      <button id="delete-quota-btn">Delete Quota</button>
      <button id="export-pdf-btn">Export to PDF</button>
    </div>

    <!-- Quota section -->
    <div id="quota-info">
      <div id="quota-list">
        <!-- Multiple quota entries will be dynamically added by JS -->
      </div>
    </div>

    <!-- New task form -->
    <form id="new-task-form">
      <input type="text" id="task-input" placeholder="What task needs to be done?">

      <!-- Category dropdown -->
      <select id="task-category">
        <option value="work">Work</option>
        <option value="personal">Personal</option>
        <option value="other">Other</option>
      </select>

      <button type="submit" id="add-task-btn">Add Task</button>
    </form>

    <!-- Current BP display -->
    <h2 id="bp-indicator">Daily Battle Plans</h2>

    <!-- Task list -->
    <ul id="task-list">
      <!-- Tasks will be dynamically added here -->
    </ul>
  </main>

  <!-- Warning modal for editing non-today BP -->
  <div id="bp-warning-modal" class="hidden">
    <div class="modal-content">
      <h2>Careful</h2>
      <p>
        You are editing a Battle Plan for a day other than today.<br>
        Make sure that's really what you intend.
      </p>
      <div class="modal-actions">
        <button id="bp-warning-cancel">Cancel</button>
        <button id="bp-warning-confirm">I Understand</button>
      </div>
    </div>
  </div>

  <!-- Help modal -->
  <div id="bp-help-modal" class="hidden">
    <div class="modal-content">
      <h3>Quick Helpful Facts</h3>
      <h4>Quotas</h4>
      <p>On the quotas, "Done" is the left and "planned/wanted" is the right. Hence, "10 / 5 Done" (Planned 5, got 10 done.)</p>
      <h3>What is a Battle Plan?</h3>
      <p>Shorthand: BP</p>
      <p>
        A Battle Plan is basically a to-do list for your workday,
        including what metrics you need to hit to do well.
        The idea is that you write what you need to do, and when it needs to happen by,
        and then you do it. Additionally, in tracking the quota you need to hit, you plan
        your BP around hitting that goal.
      </p>
      <h3>Why "Battle plan"?</h3>
      <p>
        The term originates from Scientology text, "Battle Plans" by L. Ron Hubbard.
        The name comes from the idea of "battling" the day to get it all done. Though, I'm uncertain of that derivation.
      </p>
      <h3>Must I use the quotas?</h3>
      <p>
        No, but it can be useful. I personally don't see why not, at least.
      </p>
      <button id="bp-help-close">Close</button>
    </div>
  </div>

  <div id="add-quota-modal" class="hidden">
    <div class="modal-content">
      <h3>Add New Quota</h3>
      <form id="add-quota-form">
        <label for="new-quota-name">Quota Name:</label>
        <input type="text" id="new-quota-name" required placeholder="Enter quota name">

        <div style="margin-top:16px; display:flex; gap:10px; justify-content:flex-end;">
          <button type="button" id="add-quota-cancel">Cancel</button>
          <button type="submit" id="add-quota-confirm">Add</button>
        </div>
      </form>
    </div>
  </div>

  <div id="delete-quota-modal" class="hidden">
    <div class="modal-content">
      <h3>Delete Quota</h3>
      <form id="delete-quota-form">
        <label for="quota-to-delete">Select quota to delete:</label>
        <select id="quota-to-delete" required>
          <!-- Options will be dynamically filled -->
        </select>

        <div style="margin-top:16px; display:flex; gap:10px; justify-content:flex-end;">
          <button type="button" id="delete-quota-cancel">Cancel</button>
          <button type="submit" id="delete-quota-confirm">Delete</button>
        </div>
      </form>
    </div>
  </div>
  <!-- JS -->
  <script src="/static/register/js/toast.js"></script>
  <script src="/static/battleplans/js/helpers.js"></script>
  <script src="/static/battleplans/js/navigation.js"></script>
  <script src="/static/battleplans/js/battleplans.js"></script>
  <script src="/static/battleplans/js/quotas.js"></script>
  <script src="/static/battleplans/js/tasks.js"></script>
  <script src="/static/battleplans/js/modals.js"></script>
  <script src="/static/battleplans/js/controls.js"></script>
  <script src="/static/battleplans/js/pdfs.js"></script>
</body>
</html>
